{"version":3,"sources":["app/model/lista.cljs"],"mappings":";AAMA,AAAA;;;AAAAA,2BAAA,AAAAC,+CAAA,AAAA;;AAAA,AAAAC,oFAAA,AAAA,2FAAA,WAAAC;AAAA,AAAA,IAAAC,aAAA,AAAA,sFAAA,AAAA,iFAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;eAAA,AAAAE,4CAAAF,eAAA,tEAAwBc;AAAxB,AAAA,kDAAA,0DAAA,iCAOWN;AAPX,AAAA;GAAA,+DAAA,oCAAAL;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAH,4BAAAG;UAAAA,NACiCI;YADjC,AAAAN,4CAAAE,eAAA,nEACsBW;AADtB,AAAA,IAAAV,iDAAAC;IAAAC,iDAAA;AAAA,AAAA,CAAAD,iEAAAC;;AAAA,IAAA,AAEI,IAAMS,8OAAgBR,1NAAkB,+CAAA,AAAA,oFAAA,AAAA,6FAAA,mFAAA,AAAA,2FAAA,9YAACS;AAAzC,AACE,AAAAC,yDAAA,WAAAC,jBAAaJ;AAAb,0BACE,kDAAAI,iBAAA,mFAAA,oEAAA,sFAAA,mFAAA,nYAACC,iNAAqBN,gFAAuBO,2JAAeL,tdAC5D,ifAAA,mFAAA,mFAAA,2CAAA,2EAAA,6DAAA,GAAA,4DAAA,l4BAACM,snBAAmBN,8HAAuBA;;UALnD,AAAA,CAAAV,iEAAAD;;AAAA;GAAA,wEAAA,WAAAG;AAAA,AAAA,IAAAC,2CAAAH;IAAAI,2CAAA;AAAA,AAAA,CAAAJ,iEAAAI;;AAAA,IAAA,AAAA,IAAAC,qBAAA,AAAAC,uDAAA,AAAA,iFAAAJ,KAAA;AAAA,AAAA,oBAAAG;AAAA,AAAA,IAAAE,iBAAAF;AAAA,AAAA,QAAAE,+CAAAA,6CAAAL,OAAAK,yBAAAL;;AAAA;;UAAA,AAAA,CAAAF,iEAAAG;;;AAkBA,AAAA;;;AAAAc,8BAAA,AAAA1B,+CAAA,AAAA;;AAAA,AAAAC,oFAAA,AAAA,oGAAA,WAAAC;AAAA,AAAA,IAAAyB,aAAA,AAAA,sFAAA,AAAA,iFAAAzB;IAAAyB,iBAAA,AAAAvB,4BAAAuB;eAAA,AAAAtB,4CAAAsB,eAAA,tEAA2BV;cAA3B,AAAAZ,4CAAAsB,eAAA,rEAA8CO;AAA9C,AAAA,kDAAA,0DAAA,iCAKWvB;AALX,AAAA;GAAA,yDAAA,iCAAAiB;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAzB,4BAAAyB;YAAA,AAAAxB,4CAAAwB,eAAA,nEACmBX;AADnB,AAAA,IAAAY,iDAAArB;IAAAsB,iDAAA;AAAA,AAAA,CAAAtB,iEAAAsB;;AAAA,IAAA,AAEI,AAAAV,yDAAA,WAAAC,jBAAaJ;AAAb,oEACE,2DAAAI,iBAAA,mFAAA,yEAAA,mFAAA,oEAAA,/XAACa,wNAA8BD,8JAAoBjB,1bACnD,2gBAAA,mFAAA,vlBAACmB,gpBAAwBF;;UAJ/B,AAAA,CAAAzB,iEAAAqB;;AAAA;GAAA,wEAAA,WAAAnB;AAAA,AAAA,IAAAqB,2CAAAvB;IAAAwB,2CAAA;AAAA,AAAA,CAAAxB,iEAAAwB;;AAAA,IAAA,AAAA,IAAAnB,qBAAA,AAAAC,uDAAA,AAAA,iFAAAJ,KAAA;AAAA,AAAA,oBAAAG;AAAA,AAAA,IAAAE,iBAAAF;AAAA,AAAA,QAAAE,+CAAAA,6CAAAL,OAAAK,yBAAAL;;AAAA;;UAAA,AAAA,CAAAF,iEAAAuB","names":["app.model.lista/todo-add","com.fulcrologic.fulcro.mutations/->Mutation","com.fulcrologic.fulcro.mutations/mutate","fulcro-mutation-env-symbol","map__51310","cljs.core/--destructure-map","cljs.core.get","p__51311","map__51312","*after-render*-orig-val__51313","com.fulcrologic.fulcro.raw.components/*after-render*","*after-render*-temp-val__51314","env","*after-render*-orig-val__51315","*after-render*-temp-val__51316","temp__5804__auto__","com.fulcrologic.fulcro.algorithms.lookup/app-algorithm","default-action","lista-id","state","new-todo-id","cljs.core.get_in","cljs.core.swap_BANG_","s__50541__auto__","cljs.core.update_in","cljs.core/conj","cljs.core/assoc-in","app.model.lista/todo-delete","map__51317","p__51318","map__51319","*after-render*-orig-val__51320","*after-render*-temp-val__51321","*after-render*-orig-val__51322","*after-render*-temp-val__51323","todo-id","com.fulcrologic.fulcro.algorithms.merge/remove-ident*","com.fulcrologic.fulcro.algorithms.normalized-state/dissoc-in"],"sourcesContent":["(ns app.model.lista\n  (:require\n    [com.fulcrologic.fulcro.mutations :refer [defmutation]]\n    [com.fulcrologic.fulcro.algorithms.normalized-state :as fns]\n    [com.fulcrologic.fulcro.algorithms.merge :as merge]))\n\n(defmutation todo-add [{lista-id :lista/id}]\n  (ok-action [{:keys [state] :as env}]\n    (let [new-todo-id (-> env :result :body (get-in [`todo-add :todo/id]))]\n      (fns/swap!-> state\n        (update-in [:lista/id lista-id :lista/todos] conj [:todo/id new-todo-id])\n        (assoc-in [:todo/id new-todo-id] {:todo/id new-todo-id :todo/text \"\" :todo/done false} ))\n      ))\n  (remote [env] true))\n\n; TODO: mutation to add a list.\n#_(defmutation list-add)\n\n; TODO: Remove todos associated to this list.\n#_(defmutation lista-delete [{lista-id :lista/id}]\n  (action [{:keys [state]}]\n    (fns/dissoc-in state [:lista/id lista-id])\n    ))\n\n(defmutation todo-delete [{lista-id :lista/id todo-id :todo/id}]\n  (action [{:keys [state]}]\n    (fns/swap!-> state\n      (merge/remove-ident* [:todo/id todo-id] [:lista/id lista-id :lista/todos])\n      (fns/dissoc-in [:todo/id todo-id])))\n  (remote [env] true))\n"]}