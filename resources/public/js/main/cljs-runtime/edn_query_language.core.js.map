{"version":3,"sources":["edn_query_language/core.cljc"],"mappings":"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","names":["edn-query-language.core/*shallow-conversion*","goog/define","edn-query-language.core/INCLUDE_SPECS","cljs.spec.alpha/def-impl","cljs.core/keyword?","cljs.core/any?","cljs.spec.alpha.tuple_impl.cljs$core$IFn$_invoke$arity$2","cljs.spec.alpha/or-spec-impl","cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4","G__38494","cljs.core/map?","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core/bounded-count","i__13977__auto__","v__13978__auto__","cljs.core.nth.cljs$core$IFn$_invoke$arity$2","G__38496","or__4131__auto__","cljs.spec.alpha/MAX_INT","cljs.core/nat-int?","cljs.spec.alpha/and-spec-impl","cljs.core/seq?","cljs.spec.alpha/cat-impl","cljs.spec.alpha/maybe-impl","cljs.core/symbol?","G__38511","G__38513","cljs.core/vector?","G__38514","cljs.core/coll?","p1__38481#","cljs.spec.alpha/map-spec-impl","G__38515","cljs.core/contains?","x","cljs.core/every?","p1__38482#","cljs.core.comp.cljs$core$IFn$_invoke$arity$2","js/edn-query-language","js/edn-query-language.core","js/edn-query-language.core.node-type","method-table__4613__auto__","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","prefer-table__4614__auto__","method-cache__4615__auto__","cached-hierarchy__4616__auto__","hierarchy__4617__auto__","cljs.core.get.cljs$core$IFn$_invoke$arity$3","fexpr__38525","cljs.core/MultiFn","cljs.core.symbol.cljs$core$IFn$_invoke$arity$2","edn-query-language.core/node-type","_","G__38526","G__38536","p1__38483#","G__38537","cljs.core/first","p1__38484#","p1__38485#","G__38539","G__38540","p1__38486#","G__38541","p1__38487#","cljs.spec.alpha.spec_impl.cljs$core$IFn$_invoke$arity$4","cljs.core/set","cljs.core/keys","cljs.core/methods","cljs.spec.alpha.multi_spec_impl.cljs$core$IFn$_invoke$arity$3","edn-query-language.core/mark-meta","source","target","G__38547","cljs.core/meta","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","edn-query-language.core/symbol->ast","k","edn-query-language.core/keyword->ast","p__38550","vec__38551","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","edn-query-language.core/union-entry->ast","v","component","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","cljs.core.into.cljs$core$IFn$_invoke$arity$3","cljs.core.map.cljs$core$IFn$_invoke$arity$1","edn-query-language.core/expr->ast","edn-query-language.core/union->ast","m","p__38554","vec__38555","edn-query-language.core/call->ast","f","args","call","ast","cljs.core.update_in.cljs$core$IFn$_invoke$arity$4","cljs.core/merge","G__38558","cljs.core/Symbol","edn-query-language.core/query->ast","query","edn-query-language.core/query->ast1","query-expr","edn-query-language.core/join->ast","join","vec__38559","query-root?","type","cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2","p__38562","vec__38563","edn-query-language.core/ident->ast","id","ref","cljs.core/Keyword","edn-query-language.core/wrap-expr","root?","expr","cljs.core/with-meta","G__38567","cljs.core/List","edn-query-language.core/parameterize","params","cljs.core/empty?","var_args","G__38572","edn-query-language.core/ast->expr","js/Error","p__38573","map__38574","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","edn_query_language.core.ast__GT_expr.cljs$core$IFn$_invoke$arity$2","ast-meta","unparse?","G__38576","p1__38568#","cljs.core.vary_meta.cljs$core$IFn$_invoke$arity$4","cljs.core/assoc","map__38577","key","query-root","and__4120__auto__","cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","map__38580","children","query-meta","cljs.core/count","G__38582","p__38585","map__38586","union-key","G__38588","p1__38569#","G__38589","p1__38570#","edn-query-language.core/ast->query","query-ast","<>","edn-query-language.core/ident?","edn-query-language.core/focus-subquery-union*","sub-ast","s-index","p1__38592#","cljs.core/PersistentVector","cljs.core.reduce.cljs$core$IFn$_invoke$arity$3","p__38593","map__38594","union-entry","temp__5802__auto__","sub","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","edn-query-language.core/focus-subquery*","q-index","p1__38598#","p__38599","map__38602","focus","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$variadic","edn-query-language.core/focus-subquery","sub-query","p__38607","map__38608","edn-query-language.core/transduce-children","xform","node","G__38610","cljs.core/seq","cljs.core.update.cljs$core$IFn$_invoke$arity$3","p1__38606#","edn-query-language.core/union-children?","G__38611","args__4736__auto__","len__4730__auto__","i__4731__auto__","argseq__4737__auto__","cljs.core/IndexedSeq","edn-query-language.core/update-property-param","seq38612","G__38613","cljs.core/next","G__38614","self__4717__auto__","vec__38615","p","cljs.core.apply.cljs$core$IFn$_invoke$arity$3","edn-query-language.core/merge-asts","qa","qb","p__38623","map__38624","item-b","vec__38627","idx","item","p1__38619#","p2__38618#","cljs.core.keep_indexed.cljs$core$IFn$_invoke$arity$2","cljs.core/reduced","cljs.core/assoc-in","cljs.core.update.cljs$core$IFn$_invoke$arity$4","cljs.core/conj","edn-query-language.core/merge-queries","G__38630","p__38632","map__38633","edn-query-language.core/mask-query*","source-ast","mask-ast","p__38636","map__38637","mask-children","mask-node","source-node","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","edn-query-language.core/mask-query","mask","edn-query-language.core/normalize-query-variables","G__38641","p1__38640#","p__38642","vec__38643","edn-query-language.core/query-id","cljs.core/hash","edn-query-language.core/query->shallow-ast","*shallow-conversion*-orig-val__38655","*shallow-conversion*-temp-val__38656","cljs.spec.alpha/fspec-impl","cljs.spec.alpha/nilable-impl","cljs.core/boolean?","cljs.core/fn?","cljs.spec.alpha/rep-impl"],"sourcesContent":["(ns edn-query-language.core\n  (:refer-clojure :exclude [ident?])\n  (:require [clojure.spec.alpha :as s]))\n\n(def ^:dynamic *shallow-conversion*\n  \"Dynamic var.  When bound to true in the current thread calls to query->ast will no go past the\n  first level of children.  This is useful when you just want the AST for one layer of a query.\"\n  false)\n\n#?(:clj  (def INCLUDE_SPECS true)\n   :cljs (goog-define INCLUDE_SPECS true))\n\n(when INCLUDE_SPECS\n  ; tag::specs[]\n  (s/def ::property keyword?)\n  (s/def ::special-property #{'*})\n  (s/def ::ident-value any?)\n  (s/def ::ident (s/tuple ::property ::ident-value))\n  (s/def ::join-key (s/or :prop ::property, :ident ::ident, :param-exp ::join-key-param-expr))\n  (s/def ::join (s/map-of ::join-key ::join-query, :count 1, :conform-keys true))\n  (s/def ::union (s/map-of ::property ::query, :min-count 1, :conform-keys true))\n  (s/def ::recursion-depth nat-int?)\n  (s/def ::recursion (s/or :depth ::recursion-depth, :unbounded #{'...}))\n\n  (s/def ::join-query\n    (s/or :query ::query\n          :union ::union\n          :recursion ::recursion))\n\n  (s/def ::params\n    map?)\n\n  (s/def ::param-expr-key\n    (s/or :prop ::property\n          :join ::join\n          :ident ::ident))\n\n  (s/def ::param-expr\n    (s/and seq? (s/cat :expr ::param-expr-key :params (s/? ::params))))\n\n  (s/def ::join-key-param-key (s/or :prop ::property :ident ::ident))\n\n  (s/def ::join-key-param-expr\n    (s/and seq? (s/cat :expr ::join-key-param-key :params (s/? ::params))))\n\n  (s/def ::mutation-key symbol?)\n\n  (s/def ::mutation-expr\n    (s/and seq? (s/cat :mutate-key ::mutation-key :params (s/? ::params))))\n\n  (s/def ::mutation-join\n    (s/map-of ::mutation-expr ::query :count 1 :conform-keys true))\n\n  (s/def ::mutation\n    (s/or :mutation ::mutation-expr\n          :mutation-join ::mutation-join))\n\n  (s/def ::query-expr\n    (s/or :prop ::property\n          :join ::join\n          :ident ::ident\n          :mutation ::mutation\n          :param-exp ::param-expr\n          :special ::special-property))\n\n  (s/def ::query\n    (s/coll-of ::query-expr :kind vector?))\n  ; end::specs[]\n\n  ;; ast specs\n\n  (s/def :edn-query-language.ast/query ::join-query)\n  (s/def :edn-query-language.ast/key (s/or :prop ::property :ident ::ident :sym symbol?))\n  (s/def :edn-query-language.ast/dispatch-key (s/or :prop ::property :sym symbol?))\n  (s/def :edn-query-language.ast/union-key ::property)\n\n  (s/def :edn-query-language.ast/children\n    (s/coll-of :edn-query-language.ast/node))\n\n  (s/def :edn-query-language.ast/root\n    (s/and (s/keys :req-un [:edn-query-language.ast/type :edn-query-language.ast/children])\n      #(= :root (:type %))\n      (fn [x] (every? (comp #(contains? #{:prop :join :call nil} %) :type) (:children x)))))\n\n  (defmulti node-type :type)\n\n  (defmethod node-type nil [_]\n    (s/keys :req-un [:edn-query-language.ast/key :edn-query-language.ast/dispatch-key]))\n\n  (defmethod node-type :prop [_]\n    (s/keys :req-un [:edn-query-language.ast/type :edn-query-language.ast/key :edn-query-language.ast/dispatch-key]))\n\n  (defmethod node-type :join [_]\n    (s/and (s/keys :req-un [:edn-query-language.ast/type :edn-query-language.ast/key :edn-query-language.ast/dispatch-key] :opt-un [:edn-query-language.ast/children :edn-query-language.ast/query])\n      #(if (-> % :query first (= :recursion)) % (if (contains? % :children) % false))\n      (fn [x] (every? (comp #(contains? #{:prop :join :union :call nil} %) :type) (:children x)))))\n\n  (defmethod node-type :union [_]\n    (s/and (s/keys :req-un [:edn-query-language.ast/type :edn-query-language.ast/children] :opt-un [:edn-query-language.ast/query])\n      #(every? (comp #{:union-entry} :type) (:children %))))\n\n  (defmethod node-type :union-entry [_]\n    (s/and (s/keys :req-un [:edn-query-language.ast/type :edn-query-language.ast/union-key :edn-query-language.ast/children]\n             :opt-un [:edn-query-language.ast/query])\n      (fn [x] (every? (comp #(contains? #{:prop :join :call nil} %) :type) (:children x)))))\n\n  (defmethod node-type :call [_]\n    (s/and (s/keys\n             :req-un [:edn-query-language.ast/type :edn-query-language.ast/key :edn-query-language.ast/dispatch-key ::params]\n             :opt-un [:edn-query-language.ast/query :edn-query-language.ast/children])\n      (fn [x] (every? (comp #(contains? #{:prop :join :call nil} %) :type) (:children x)))))\n\n  (defmethod node-type :root [_]\n    (s/spec :edn-query-language.ast/root))\n\n  (s/def :edn-query-language.ast/type (set (keys (methods node-type))))\n  (s/def :edn-query-language.ast/node (s/multi-spec node-type :type)))\n\n;; library\n\n(declare expr->ast)\n\n(defn- mark-meta [source target]\n  (cond-> target\n    (meta source) (assoc :meta (meta source))))\n\n(defn symbol->ast [k]\n  {:dispatch-key k\n   :key          k})\n\n(defn keyword->ast [k]\n  {:type         :prop\n   :dispatch-key k\n   :key          k})\n\n(defn union-entry->ast [[k v]]\n  (let [component (-> v meta :component)]\n    (merge\n      {:type      :union-entry\n       :union-key k\n       :query     v\n       :children  (into [] (map expr->ast) v)}\n      (when-not (nil? component)\n        {:component component}))))\n\n(defn union->ast [m]\n  {:type     :union\n   :query    m\n   :children (into [] (map union-entry->ast) m)})\n\n(defn call->ast [[f args :as call]]\n  (if (= 'quote f)\n    (assoc (expr->ast args) :target (or (-> call meta :target) :remote))\n    (let [ast (update-in (expr->ast f) [:params] merge (or args {}))]\n      (cond-> (mark-meta call ast)\n        (symbol? (:dispatch-key ast)) (assoc :type :call)))))\n\n(defn query->ast\n  \"Convert a query to its AST representation.\"\n  [query]\n  (let [component (-> query meta :component)]\n    (merge\n      (mark-meta query\n        {:type     :root\n         :children (into [] (map expr->ast) query)})\n      (when-not (nil? component)\n        {:component component}))))\n\n(defn query->ast1\n  \"Call query->ast and return the first children.\"\n  [query-expr]\n  (-> (query->ast query-expr) :children first))\n\n(defn join->ast [join]\n  (let [query-root? (-> join meta :query-root)\n        [k v] (first join)\n        ast         (expr->ast k)\n        type        (if (= :call (:type ast)) :call :join)\n        component   (-> v meta :component)]\n    (merge ast\n           (mark-meta join {:type type :query v})\n           (when-not (nil? component)\n             {:component component})\n           (when query-root?\n             {:query-root true})\n      (when-not (or (number? v) (= '... v) *shallow-conversion*)\n             (cond\n               (vector? v) {:children (into [] (map expr->ast) v)}\n               (map? v) {:children [(union->ast v)]}\n               :else (throw\n                       (ex-info (str \"Invalid join, \" join)\n                         {:type :error/invalid-join})))))))\n\n(defn ident->ast [[k id :as ref]]\n  {:type         :prop\n   :dispatch-key k\n   :key          ref})\n\n(defn expr->ast\n  \"Given a query expression convert it into an AST.\"\n  [x]\n  (cond\n    (symbol? x) (symbol->ast x)\n    (keyword? x) (keyword->ast x)\n    (map? x) (join->ast x)\n    (vector? x) (ident->ast x)\n    (seq? x) (call->ast x)\n    :else (throw\n            (ex-info (str \"Invalid expression \" x)\n              {:type :error/invalid-expression}))))\n\n(defn wrap-expr [root? expr]\n  (if root?\n    (with-meta\n      (cond-> expr (keyword? expr) list)\n      {:query-root true})\n    expr))\n\n(defn parameterize [expr params]\n  (if-not (empty? params)\n    (list expr params)\n    (list expr)))\n\n(defn ast->expr\n  \"Given a query expression AST convert it back into a query expression.\"\n  ([ast]\n   (ast->expr ast false))\n  ([{:keys [type component] ast-meta :meta :as ast} unparse?]\n   (if (= :root type)\n     (cond-> (into (with-meta [] ast-meta) (map #(ast->expr % unparse?)) (:children ast))\n       (not (nil? component)) (vary-meta assoc :component component))\n     (let [{:keys [key query query-root params]} ast]\n       (wrap-expr query-root\n         (if (and params (not= :call type))\n           (let [expr (ast->expr (dissoc ast :params) unparse?)]\n             (parameterize expr params))\n           (let [key (if (= :call type) (parameterize key params) key)]\n             (if (or (= :join type)\n                     (and (= :call type) (:children ast)))\n               (if (and (not= '... query) (not (number? query))\n                        (or (true? unparse?)\n                            (= :call type)))\n                 (let [{:keys [children]} ast\n                       query-meta (meta query)]\n                   (if (and (== 1 (count children))\n                            (= :union (:type (first children)))) ;; UNION\n                     (with-meta\n                       {key (into (cond-> (with-meta {} ast-meta)\n                                    component (vary-meta assoc :component component))\n                                  (map (fn [{:keys [union-key children component]}]\n                                         [union-key\n                                          (cond-> (into [] (map #(ast->expr % unparse?)) children)\n                                            (not (nil? component)) (vary-meta assoc :component component))]))\n                                  (:children (first children)))}\n                       ast-meta)\n                     (with-meta\n                       {key (cond-> (into (with-meta [] query-meta) (map #(ast->expr % unparse?)) children)\n                              (not (nil? component)) (vary-meta assoc :component component))}\n                       ast-meta)))\n                 (with-meta {key query} ast-meta))\n               key))))))))\n\n(defn ast->query [query-ast]\n  \"Given an AST convert it back into a query expression.\"\n  (as-> (ast->expr query-ast true) <>\n    (if (vector? <>)\n      <>\n      [<>])))\n\n(defn ident?\n  \"Check if x is a EQL ident.\"\n  [x]\n  (and (vector? x)\n       (keyword? (first x))\n       (= 2 (count x))))\n\n;; query processing helpers\n\n(declare focus-subquery*)\n\n(defn focus-subquery-union*\n  [query-ast sub-ast]\n  (let [s-index (into {} (map #(vector (:union-key %) %)) (:children sub-ast))]\n    (assoc query-ast\n      :children\n      (reduce\n        (fn [children {:keys [union-key] :as union-entry}]\n          (if-let [sub (get s-index union-key)]\n            (conj children (focus-subquery* union-entry sub))\n            (conj children union-entry)))\n        []\n        (:children query-ast)))))\n\n(defn focus-subquery*\n  \"Internal implementation of focus-subquery, you can use this function directly if\n  you want to send AST in and get AST out (instead of query in / query out).\"\n  [query-ast sub-ast]\n  (let [q-index (into {} (map #(vector (:key %) %)) (:children query-ast))]\n    (assoc query-ast\n      :children\n      (reduce\n        (fn [children {:keys [key type] :as focus}]\n          (if-let [source (get q-index key)]\n            (cond\n              (= :join type (:type source))\n              (conj children (focus-subquery* source focus))\n\n              (= :union type (:type source))\n              (conj children (focus-subquery-union* source focus))\n\n              :else\n              (conj children source))\n            children))\n        []\n        (:children sub-ast)))))\n\n(defn focus-subquery\n  \"Given a query, focus it along the specified query expression.\n\n  Examples:\n    (focus-query [:foo :bar :baz] [:foo])\n    => [:foo]\n\n    (fulcro.client.primitives/focus-query [{:foo [:bar :baz]} :woz] [{:foo [:bar]} :woz])\n    => [{:foo [:bar]} :woz]\"\n  [query sub-query]\n  (let [query-ast (query->ast query)\n        sub-ast   (query->ast sub-query)]\n    (ast->expr (focus-subquery* query-ast sub-ast) true)))\n\n(defn transduce-children\n  \"Recursivelly transduce children on the AST, you can use this to apply filter/transformations\n  on a whole AST. Each iteration of the transducer will get a single AST node to process.\n\n  ```\n  (->> [:a {:b [:c :d]} :e]\n       (p/query->ast)\n       (p/transduce-children (remove (comp #{:a :c} :key)))\n       (p/ast->query))\n  ; => [{:b [:d]} :e]\n  ```\"\n  [xform {:keys [children] :as node}]\n  (cond-> node\n    (seq children)\n    (update :children\n      (fn [children]\n        (into [] (comp xform (map #(transduce-children xform %))) children)))))\n\n(defn union-children?\n  \"Given an AST point, check if the children is a union query type.\"\n  [ast]\n  (= :union (some-> ast :children first :type)))\n\n(defn update-property-param\n  \"Add property param, eg:\n\n  ```\n  (p/update-property-param :keyword assoc :foo \\\"bar\\\") => (:keyword {:foo \\\"bar\\\"})\n  (p/update-property-param '(:keyword {:param \\\"prev\\\"}) assoc :foo \\\"bar\\\") => (:keyword {:foo \\\"bar\\\" :param \\\"prev\\\"})\n  ```\n  \"\n  [x f & args]\n  (if (seq? x)\n    (let [[k p] x]\n      (list k (apply f p args)))\n\n    (list x (apply f {} args))))\n\n(defn merge-asts\n  \"Merges two ast's.\"\n  [qa qb]\n  (reduce (fn [ast {:keys [key type params] :as item-b}]\n            (if-let [[idx item] (->> ast :children\n                                     (keep-indexed #(if (-> %2 :key (= key)) [%1 %2]))\n                                     first)]\n              (cond\n                (or (= :join (:type item) type)\n                    (= :prop (:type item) type))\n                (if (= (:params item) params)\n                  (update-in ast [:children idx] merge-asts item-b)\n                  (reduced nil))\n\n                (and (= :prop (:type item))\n                     (= :join type))\n                (assoc-in ast [:children idx] item-b)\n\n                (= :call type)\n                (reduced nil)\n\n                :else ast)\n              (update ast :children conj item-b)))\n    qa\n    (:children qb)))\n\n(defn merge-queries\n  \"Merges two queries\"\n  [qa qb]\n  (some-> (merge-asts (query->ast qa) (query->ast qb))\n    (ast->query)))\n\n(defn mask-query* [{:keys [children] :as source-ast} mask-ast]\n  (reduce\n    (fn [ast {mask-children :children\n              :keys         [key]\n              :as           mask-node}]\n      (if-let [source-node (->> children (filter (comp #{key} :key)) first)]\n        (if (and (seq (:children source-node)) (seq mask-children))\n          (update ast :children conj (mask-query* source-node mask-node))\n          (update ast :children conj source-node))\n        ast))\n    (assoc source-ast :children [])\n    (:children mask-ast)))\n\n(defn mask-query\n  \"Given a source EQL query, use a mask EQL query to filter which elements to pick from\n  the source. Params will be maintaned from the source, params in mask are ignored.\"\n  [source mask]\n  (let [source-ast (query->ast source)\n        mask-ast   (query->ast mask)]\n    (ast->query (mask-query* source-ast mask-ast))))\n\n(defn normalize-query-variables\n  \"Converts ident values and param values to ::p/var.\"\n  [query]\n  (->> (query->ast query)\n       (transduce-children\n         (map (fn [x]\n                (cond-> x\n                  (ident? (:key x))\n                  (assoc :key [(first (:key x)) ::var])\n\n                  (:params x)\n                  (update :params #(into {} (map (fn [[k _]] [k ::var])) %))))))\n       (ast->query)))\n\n(defn query-id\n  \"Generates a consistent hash from the query. The query first goes to a process to remove any\n  variables from idents and params, then we get the Clojure hash of it. You can use this to save\n  information about a query that can be used to correlate with the query later.\"\n  [query]\n  (hash (normalize-query-variables query)))\n\n(defn query->shallow-ast\n  \"Like query->ast, but does not follow joins.  Useful for efficiently getting just the top-level entries in\n   a large query.\"\n  [query]\n  (binding [*shallow-conversion* true]\n    (query->ast query)))\n\n(when INCLUDE_SPECS\n  (s/fdef query->ast\n    :args (s/cat :query (s/nilable ::query))\n    :ret :edn-query-language.ast/root)\n\n  (s/fdef query->ast1\n    :args (s/cat :query ::query)\n    :ret (s/nilable :edn-query-language.ast/node))\n\n  (s/fdef ast->query\n    :args (s/cat :ast :edn-query-language.ast/node)\n    :ret ::query)\n\n  (s/fdef ident?\n    :args (s/cat :x any?)\n    :ret boolean?)\n\n  (s/fdef focus-subquery\n    :args (s/cat :query ::query :sub-query ::query)\n    :ret ::query)\n\n  (s/fdef transduce-children\n    :args (s/cat :xform fn? :node :edn-query-language.ast/node)\n    :ret :edn-query-language.ast/node)\n\n  (s/fdef union-children?\n    :args (s/cat :ast :edn-query-language.ast/node)\n    :ret boolean?)\n\n  (s/fdef update-property-param\n    :args (s/cat :x (s/or :property ::property\n                          :expr ::param-expr)\n                 :f fn?\n                 :args (s/* any?))\n    :ret ::param-expr)\n\n  (s/fdef merge-asts\n    :args (s/cat :qa :edn-query-language.ast/node, :qb :edn-query-language.ast/node)\n    :ret (s/nilable :edn-query-language.ast/node))\n\n  (s/fdef merge-queries\n    :args (s/cat :qa (s/nilable ::query), :qb (s/nilable ::query))\n    :ret (s/nilable ::query)))\n"]}