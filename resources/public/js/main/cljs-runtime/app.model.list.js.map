{"version":3,"sources":["app/model/list.cljs"],"mappings":";AAMA,AAAA;;;AAAAA,0BAAA,AAAAC,+CAAA,AAAA;;AAAA,AAAAC,oFAAA,AAAA,2FAAA,WAAAC;AAAA,AAAA,IAAAC,aAAA,AAAA,sFAAA,AAAA,iFAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;cAAA,AAAAE,4CAAAF,eAAA,rEAAwBc;AAAxB,AAAA,kDAAA,0DAAA,gCAOWN;AAPX,AAAA;GAAA,+DAAA,mCAAAL;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAH,4BAAAG;UAAAA,NACiCI;YADjC,AAAAN,4CAAAE,eAAA,nEACsBW;AADtB,AAAA,IAAAV,iDAAAC;IAAAC,iDAAA;AAAA,AAAA,CAAAD,iEAAAC;;AAAA,IAAA,AAEI,IAAMS,8OAAgBR,1NAAkB,+CAAA,AAAA,oFAAA,AAAA,6FAAA,mFAAA,AAAA,2FAAA,9YAACS;AAAzC,AACE,AAAAC,yDAAA,WAAAC,jBAAaJ;AAAb,0BACE,kDAAAI,iBAAA,mFAAA,iEAAA,oFAAA,mFAAA,9XAACC,+MAAoBN,6EAAqBO,2JAAeL,jdACzD,4eAAA,mFAAA,mFAAA,2CAAA,2EAAA,6DAAA,GAAA,4DAAA,73BAACM,inBAAmBN,8HAAuBA;;UALnD,AAAA,CAAAV,iEAAAD;;AAAA;GAAA,wEAAA,WAAAG;AAAA,AAAA,IAAAC,2CAAAH;IAAAI,2CAAA;AAAA,AAAA,CAAAJ,iEAAAI;;AAAA,IAAA,AAAA,IAAAC,qBAAA,AAAAC,uDAAA,AAAA,iFAAAJ,KAAA;AAAA,AAAA,oBAAAG;AAAA,AAAA,IAAAE,iBAAAF;AAAA,AAAA,QAAAE,+CAAAA,6CAAAL,OAAAK,yBAAAL;;AAAA;;UAAA,AAAA,CAAAF,iEAAAG;;;AASA,AAAA;;;AAAAc,6BAAA,AAAA1B,+CAAA,AAAA;;AAAA,AAAAC,oFAAA,AAAA,kGAAA,WAAAC;AAAA,AAAA,IAAAyB,aAAA,AAAA,sFAAA,AAAA,iFAAAzB;IAAAyB,iBAAA,AAAAvB,4BAAAuB;cAAA,AAAAtB,4CAAAsB,eAAA,rEAA2BV;cAA3B,AAAAZ,4CAAAsB,eAAA,rEAA4CO;AAA5C,AAAA,kDAAA,0DAAA,gCAKWvB;AALX,AAAA;GAAA,yDAAA,gCAAAiB;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAzB,4BAAAyB;YAAA,AAAAxB,4CAAAwB,eAAA,nEACmBX;AADnB,AAAA,IAAAY,iDAAArB;IAAAsB,iDAAA;AAAA,AAAA,CAAAtB,iEAAAsB;;AAAA,IAAA,AAEI,AAAAV,yDAAA,WAAAC,jBAAaJ;AAAb,oEACE,2DAAAI,iBAAA,mFAAA,yEAAA,mFAAA,iEAAA,5XAACa,wNAA8BD,4JAAmBjB,xbAClD,sgBAAA,mFAAA,llBAACmB,2oBAAwBF;;UAJ/B,AAAA,CAAAzB,iEAAAqB;;AAAA;GAAA,wEAAA,WAAAnB;AAAA,AAAA,IAAAqB,2CAAAvB;IAAAwB,2CAAA;AAAA,AAAA,CAAAxB,iEAAAwB;;AAAA,IAAA,AAAA,IAAAnB,qBAAA,AAAAC,uDAAA,AAAA,iFAAAJ,KAAA;AAAA,AAAA,oBAAAG;AAAA,AAAA,IAAAE,iBAAAF;AAAA,AAAA,QAAAE,+CAAAA,6CAAAL,OAAAK,yBAAAL;;AAAA;;UAAA,AAAA,CAAAF,iEAAAuB","names":["app.model.list/todo-add","com.fulcrologic.fulcro.mutations/->Mutation","com.fulcrologic.fulcro.mutations/mutate","fulcro-mutation-env-symbol","map__59094","cljs.core/--destructure-map","cljs.core.get","p__59095","map__59097","*after-render*-orig-val__59098","com.fulcrologic.fulcro.raw.components/*after-render*","*after-render*-temp-val__59099","env","*after-render*-orig-val__59100","*after-render*-temp-val__59101","temp__5804__auto__","com.fulcrologic.fulcro.algorithms.lookup/app-algorithm","default-action","list-id","state","new-todo-id","cljs.core.get_in","cljs.core.swap_BANG_","s__56758__auto__","cljs.core.update_in","cljs.core/conj","cljs.core/assoc-in","app.model.list/todo-delete","map__59102","p__59105","map__59106","*after-render*-orig-val__59107","*after-render*-temp-val__59108","*after-render*-orig-val__59110","*after-render*-temp-val__59111","todo-id","com.fulcrologic.fulcro.algorithms.merge/remove-ident*","com.fulcrologic.fulcro.algorithms.normalized-state/dissoc-in"],"sourcesContent":["(ns app.model.list\n  (:require\n    [com.fulcrologic.fulcro.mutations :refer [defmutation]]\n    [com.fulcrologic.fulcro.algorithms.normalized-state :as fns]\n    [com.fulcrologic.fulcro.algorithms.merge :as merge]))\n\n(defmutation todo-add [{list-id :list/id}]\n  (ok-action [{:keys [state] :as env}]\n    (let [new-todo-id (-> env :result :body (get-in [`todo-add :todo/id]))]\n      (fns/swap!-> state\n        (update-in [:list/id list-id :list/todos] conj [:todo/id new-todo-id])\n        (assoc-in [:todo/id new-todo-id] {:todo/id new-todo-id :todo/text \"\" :todo/done false}))\n      ))\n  (remote [env] true))\n\n(defmutation todo-delete [{list-id :list/id todo-id :todo/id}]\n  (action [{:keys [state]}]\n    (fns/swap!-> state\n      (merge/remove-ident* [:todo/id todo-id] [:list/id list-id :list/todos])\n      (fns/dissoc-in [:todo/id todo-id])))\n  (remote [env] true))\n"]}